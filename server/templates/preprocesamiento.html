{% extends 'base.html' %}
{% block title %} VACA {% endblock %}
{% block content %}
<div class="row g-0 border rounded overflow-hidden flex-md-row shadow-sm h-md-250 position-relative">
  <div class="col-md-9 mx-auto position-relative" style="height: 99svh;">
    <div id="loader-background" class="loading-spinner loading-background h-100 w-100">
    </div>
    <div id="loader" class="loading-spinner h-100 w-100">
      <div class="my-auto text-center">
        <div class="spinner mx-auto" id="spinner-that-spins"></div>
        <div class="spinner-text" id="loading-text">Consiguiendo colores</div>
      </div>
    </div>
    <div class="d-flex h-100 justify-content-center">
      <canvas id="img-canvas" class="bd-placeholder-img h-100 mx-auto" width="200" height="300" style="display: none;"></canvas>
      <img src="/uploaded/{{ filename }}" class="bd-placeholder-img h-100 mx-auto" id="preprocessed" loading-url='{{ url_for("imagen_kmeans", filename=filename) }}'>
    </div>
    <div class="position-fixed bottom-0 rounded-circle m-5 col-sm-9 col-md-2">
      <div class="btn-group">
        <button class="btn btn-primary" type="button" onclick="cambiarColores()">
          Cambiar cantidad de colores
        </button>
        <input type="number" class="form-control w-25" id="cantidadColores" post-url="{{url_for('cambiar_colores', filename=filename)}}">
      </div>
    </div>
  </div>
    <div class="col p-4 position-static mx-auto overflow-auto vh-100">
      <div class="row">
        <h3 class="mb-0 col-8">Seleccione los colores</h3>
        <button id="send_vec" class="btn btn-primary align-items-right col h-75" type="button" onclick="vectorizar()" post-action="{{ url_for('vectorize', filename=filename) }}">
          Vectorizar
          <svg fill="#FFFFFF" height="15" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg" id="arrow"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8.29289 2.29289C8.68342 1.90237 9.31658 1.90237 9.70711 2.29289L14.2071 6.79289C14.5976 7.18342 14.5976 7.81658 14.2071 8.20711L9.70711 12.7071C9.31658 13.0976 8.68342 13.0976 8.29289 12.7071C7.90237 12.3166 7.90237 11.6834 8.29289 11.2929L11 8.5H1.5C0.947715 8.5 0.5 8.05228 0.5 7.5C0.5 6.94772 0.947715 6.5 1.5 6.5H11L8.29289 3.70711C7.90237 3.31658 7.90237 2.68342 8.29289 2.29289Z"></path> </g></svg>
        </button>
      </div>
      <div id="color_boton_group">
      </div>
    </div>
</div>
{% endblock %}